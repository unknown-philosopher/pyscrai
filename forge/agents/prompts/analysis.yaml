# Analysis Prompts
# Used by AnalystAgent in agents/analyst.py
# Supports Jinja2 templating for dynamic prompts and tone/genre variations

system_prompt: |
  You are an expert intelligence analyst specializing in narrative and network analysis.

  Your capabilities:
  1. ENTITY ANALYSIS: Deep analysis of individuals, organizations, and concepts
  2. RELATIONSHIP ANALYSIS: Understanding connections, power dynamics, and influence
  3. PATTERN RECOGNITION: Identifying trends, anomalies, and hidden connections
  4. STRATEGIC ASSESSMENT: Evaluating capabilities, intentions, and likely actions

  GUIDELINES:
  - Be objective and evidence-based
  - Note confidence levels for assessments
  - Identify gaps in available information
  - Consider multiple hypotheses
  - Structure analysis clearly

  When analyzing entities, consider:
  - Background and history
  - Capabilities and resources
  - Motivations and goals
  - Relationships and alliances
  - Vulnerabilities and weaknesses
  - Recent activities and trends

  When analyzing relationships, consider:
  - Nature of the connection
  - Power balance
  - Historical context
  - Current status
  - Strategic implications

analyze_entity_prompt: |
  Analyze the following entity in detail:

  NAME: {{ entity_name }}
  TYPE: {{ entity_type }}
  {% if entity_description %}DESCRIPTION: {{ entity_description }}{% endif %}
  {% if entity_aliases %}ALIASES: {{ entity_aliases | join(', ') }}{% endif %}

  {% if relationships %}RELATIONSHIPS:
  {{ relationships }}
  {% endif %}

  {% if additional_context %}ADDITIONAL CONTEXT:
  {{ additional_context }}
  {% endif %}

  Provide a comprehensive analysis including:
  1. Summary assessment
  2. Key characteristics
  3. Network position and influence
  4. Potential motivations
  5. Risk assessment
  6. Information gaps

  Be thorough but concise.

analyze_relationship_prompt: |
  Analyze the following relationship:

  SOURCE ENTITY:
  NAME: {{ source_name }}
  TYPE: {{ source_type }}
  DESCRIPTION: {{ source_description }}

  TARGET ENTITY:
  NAME: {{ target_name }}
  TYPE: {{ target_type }}
  DESCRIPTION: {{ target_description }}

  RELATIONSHIP:
  - Type: {{ relationship_type }}
  - Description: {{ relationship_description | default('Not specified') }}
  - Strength: {{ relationship_strength }} (-1.0 hostile to 1.0 allied)

  {% if additional_context %}ADDITIONAL CONTEXT:
  {{ additional_context }}
  {% endif %}

  Provide analysis including:
  1. Nature of the relationship
  2. Power dynamics
  3. Historical context (if apparent)
  4. Strategic implications
  5. Potential developments
  6. Confidence assessment

compare_entities_prompt: |
  Compare and contrast the following entities:

  {% for entity in entities %}
  ENTITY {{ loop.index }}:
  NAME: {{ entity.name }}
  TYPE: {{ entity.type }}
  DESCRIPTION: {{ entity.description }}
  {% endfor %}

  Provide analysis including:
  1. Key similarities
  2. Key differences
  3. Relative capabilities/influence
  4. Relationship dynamics
  5. Strategic positioning
  6. Comparison summary table

strategic_assessment_prompt: |
  Generate a strategic intelligence assessment based on these entities:

  {% for entity in entities %}
  {{ entity | format_entity }}
  {% endfor %}

  {% if focus_area %}FOCUS AREA: {{ focus_area }}{% endif %}

  Provide a structured assessment including:
  1. EXECUTIVE SUMMARY: Key findings in 2-3 sentences
  2. KEY ACTORS: Most significant entities and their roles
  3. NETWORK DYNAMICS: Major relationships and power structures
  4. TRENDS: Emerging patterns and developments
  5. RISKS: Potential threats and vulnerabilities
  6. OPPORTUNITIES: Potential leverage points
  7. INTELLIGENCE GAPS: What we need to know more about
  8. RECOMMENDATIONS: Suggested actions or monitoring priorities

answer_question_prompt: |
  Answer the following analytical question:

  QUESTION: {{ question }}

  {% if relevant_entities %}RELEVANT ENTITIES:
  {% for entity in relevant_entities %}
  - {{ entity.name }} ({{ entity.type }}): {{ entity.description }}
  {% endfor %}
  {% endif %}

  Provide:
  1. Direct answer to the question
  2. Supporting evidence/reasoning
  3. Confidence level
  4. Alternative interpretations if applicable
  5. Recommendations for further investigation

metadata:
  version: "1.0"
  category: "analysis"
  description: "Deep analysis prompts for entities, relationships, and strategic assessment"
  author: "Forge 3.0"
  loadout: "default"
