# SIGINT Advisor Prompts (Phase 2: Relationships)
# Provides guidance for relationship analysis and network mapping

system_prompt: |
  You are a SIGINT (Signals Intelligence) Advisor for PyScrAI|Forge, a narrative intelligence system.

  Your role is to help users manage relationships and analyze networks:
  - Suggest relationship types and strengths
  - Identify missing or implicit relationships
  - Analyze relationship networks and patterns
  - Help resolve conflicting relationships
  - Explain relationship dynamics and power structures

  Be concise and focused on relationship management.
  Consider relationship directionality, strength, and narrative implications.

suggest_relationship_type_prompt: |
  Suggest a relationship between these entities:

  SOURCE ENTITY:
  - Name: {{ source_name }}
  - Type: {{ source_type }}
  - Description: {{ source_description | default('No description') }}

  TARGET ENTITY:
  - Name: {{ target_name }}
  - Type: {{ target_type }}
  - Description: {{ target_description | default('No description') }}

  Available relationship types:
  ALLIANCE, ENMITY, TRADE, OWNS, OCCUPIES, KNOWS, INFLUENCES, COMMANDS,
  MEMBER_OF, PARENT_OF, SIBLING_OF, WORKS_FOR, LOCATED_IN, CUSTOM

  Provide:
  1. Recommended relationship type
  2. Suggested strength (-1.0 to 1.0, where negative means adversarial)
  3. Brief description of the relationship
  4. Whether it should be bidirectional

analyze_relationship_prompt: |
  Analyze this relationship:

  RELATIONSHIP:
  - Type: {{ relationship_type }}
  - Strength: {{ relationship_strength }}
  - Description: {{ relationship_description | default('No description') }}

  SOURCE: {{ source_name }} ({{ source_type }})
  TARGET: {{ target_name }} ({{ target_type }})

  Provide:
  1. Assessment of the relationship's narrative importance
  2. Potential story implications
  3. Suggested related relationships to explore
  4. Any inconsistencies or concerns

find_missing_relationships_prompt: |
  Identify missing relationships for this entity:

  ENTITY: {{ entity_name }} ({{ entity_type }})
  DESCRIPTION: {{ entity_description | default('No description') }}

  EXISTING RELATIONSHIPS:
  {% for rel in existing_relationships %}
  - {{ rel.type }} -> {{ rel.target_name }}
  {% endfor %}
  {% if not existing_relationships %}None{% endif %}

  OTHER ENTITIES IN WORLD:
  {% for e in other_entities %}
  - {{ e.name }} ({{ e.type }})
  {% endfor %}

  Based on the entity's description and type, suggest relationships
  that are likely missing. For each suggestion, provide:
  1. Target entity name
  2. Relationship type
  3. Why this relationship likely exists

resolve_conflict_prompt: |
  Help resolve these potentially conflicting relationships:

  RELATIONSHIP A:
  - {{ source_a_name }} -> {{ target_a_name }}
  - Type: {{ type_a }}
  - Strength: {{ strength_a }}

  RELATIONSHIP B:
  - {{ source_b_name }} -> {{ target_b_name }}
  - Type: {{ type_b }}
  - Strength: {{ strength_b }}

  Provide:
  1. Whether these are truly conflicting
  2. If so, which should take precedence
  3. Alternative interpretation that resolves the conflict
  4. Recommended action (keep both, merge, delete one)

analyze_network_prompt: |
  Analyze this relationship network:

  ENTITIES:
  {% for e in entities %}
  - {{ e.name }} ({{ e.type }})
  {% endfor %}

  RELATIONSHIPS:
  {% for r in relationships %}
  - {{ r.source }} --[{{ r.type }}]--> {{ r.target }} (strength: {{ r.strength }})
  {% endfor %}

  Provide:
  1. Key power centers and influencers
  2. Network clusters and factions
  3. Potential conflict points
  4. Missing connections that would strengthen the narrative
  5. Overall network health assessment

answer_question_prompt: |
  User question about relationships: {{ question }}

  {% if context_relationships %}RELEVANT RELATIONSHIPS:
  {% for r in context_relationships %}
  - {{ r.source }} --[{{ r.type }}]--> {{ r.target }}
  {% endfor %}
  {% endif %}

  Provide a helpful, concise answer focused on relationship management.

metadata:
  version: "1.0"
  category: "advisors"
  phase: "p2_relationships"
  ui_label: "SIGINT"
  description: "Relationship phase advisor for network analysis and connection mapping"
